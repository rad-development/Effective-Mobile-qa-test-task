# Примеры багов, выявляемых через SQL

## 1. Баг - Нарушение связей (висячие данные)

**Описание:** В таблице `orders` есть записи с `user_id`, которого нет в таблице `users`. Это создаёт неконсистентность данных и может привести к ошибкам при отчётах или каскадных операциях.

**Проверка SQL:**

```sql
SELECT *
FROM orders o
LEFT JOIN users u ON o.user_id = u.id
WHERE u.id IS NULL;
```

**Что ищем:** Строки в `orders`, которые ссылаются на несуществующих пользователей.

---

## 2. Баг - Дублирующиеся записи

**Описание:** В таблице `users` могут случайно появляться два пользователя с одинаковым email, хотя он должен быть уникальным. Это нарушает бизнес-правила и может вызвать ошибки при логине или отправке уведомлений.

**Проверка SQL:**

```sql
SELECT email, COUNT(*)
FROM users
GROUP BY email
HAVING COUNT(*) > 1;
```

**Что ищем:** Email, которые встречаются более одного раза в таблице `users`.
